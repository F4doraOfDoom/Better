@model Better.Models.UserModel

@{
    ViewBag.Title = "Signup";
}

@using Better.Models
@using Better.Controllers

<h2 class="bg-info"> Sign up and be Better!</h2>

<form method="post">

    @{ 
        if (IsPost)
        {
            var username = Request.Form["Username"];
            var password = Request.Form["Password"];

            UserController.AddNewUser(new Better.Models.UserModel
            {
                Username = username,
                Passowrd = password,
                Email = Request.Form["Email"]
            });

            SessionData.Put("IsLoggedIn", true);
            SessionData.Put("LoggedUsername", username);
            SessionData.Put("LoggedPassword", password);
        }
    }

    <div class="form-group">
        <label class="col-form-label" for="Username">What is your gay user name??</label>
        <input type="text" class="form-control" placeholder="Userame" name="Username" id="Username">
    </div>

    <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" name="Password" id="Password" placeholder="Password">
    </div>

    <div class="form-group">
        <label for="EmailHelp">Email address</label>
        <input type="email" class="form-control" name="Email" id="Email" aria-describedby="EmailHelp" placeholder="Enter email">
        <small id="EmailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>

</form>
