@model Better.Models.User
@using Better.Models
@using Better.Models.Constants

@{
    ViewBag.Title = "ShowUsers";
}

<h2>@Model.Username's Information:</h2>

<div>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Username)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Username)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Password)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Password)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Email)
        </dd>

        <dd>
        @{
            User creatorInSession = SessionData.Get<User>(Better.Models.Constants.Session.CurrentUser);

            if (creatorInSession != null && creatorInSession.Id != Model.Id)
            {
                @Html.ActionLink("Add as a friend", "AddFriend", "User", new { userId = Model.Id }, null);
            }
        }
        </dd>

    </dl>

    <h2>Posts made by @Model.Username:</h2>

    @Html.Partial("ShowPosts", Model.Posts)

    @{
        //User creatorInSession = SessionData.Get<User>(Better.Models.Constants.Session.CurrentUser);

        if (creatorInSession != null && (creatorInSession.Username == "admin" || creatorInSession.Id == Model.Id))
        {
            //@Html.ActionLink("Delete", "DeletePost", "User", new { postId = Model.PostId }, null);
            @Html.ActionLink("DELETE THIS USER", "DeleteUser", "User", new { userId = Model.Id }, null);
        }
    }   
</div>

